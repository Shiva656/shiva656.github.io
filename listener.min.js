!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=19)}({19:function(e,t,n){(function(e){"undefined"==typeof window&&(importScripts("https://www.gstatic.com/firebasejs/6.6.2/firebase-app.js"),importScripts("https://www.gstatic.com/firebasejs/6.6.2/firebase-messaging.js"));class t{constructor(){this.exeMessageApi="",this.messageApi="",this.subscriptionObject={},this.url="",this.launchUrl="",this.pushObj="",this.message_id="",this.execute=!1}init(){self.addEventListener("push",t=>{try{console.log(window)}catch(e){console.log(e)}try{console.log(e)}catch(e){console.log(e)}try{console.log(globalThis)}catch(e){console.log(e)}this.execute=!1;var n=t.data.json();if(console.log("message",n),n.data.hasOwnProperty("data")){this.pushObj=JSON.parse(n.data.data),this.message_id=this.pushObj.message_id,this.launchUrl=this.pushObj.launch_url;var i=JSON.parse(n.data.notification)}else if(!n.data.hasOwnProperty("data"))i=JSON.parse(n.data.notification);const o=i.title,s={body:i.body,icon:i.icon,image:i.image};n.data.action_button&&(s.actions=JSON.parse(n.data.action_button)),t.waitUntil(self.registration.showNotification(o,s))}),self.addEventListener("notificationclose",e=>{console.log("notificationclose",e);e.notification;this.message_id&&!this.execute&&this.saveUserAction("close","Unclicked")}),self.addEventListener("unhandledrejection",e=>{console.log("unhandledrejection",e)}),self.addEventListener("rejectionhandled",e=>{console.log("rejectionhandled",e)}),self.addEventListener("activate",e=>{self.skipWaiting(),console.log("activate",e)}),self.onunhandledrejection=function(e){console.log("onunhandledrejection",e)},self.onrejectionhandled=function(e){console.log("onrejectionhandled",e)},self.onnotificationclose=function(e){console.log("sss",e)},self.addEventListener("notificationclick",e=>{this.execute=!0,console.log("notificationclick",e),this.launchUrl&&clients.openWindow(this.launchUrl);e.notification;this.message_id&&this.saveUserAction(e.action?e.action:"executed","Clicked"),this.exeMessageApi=""})}saveUserAction(e,t){this.pushObj.action=t,this.pushObj.user_action=e;var n=this.pushObj;fetch(`https://my.${this.pushObj.region}.500apps.com/pcors?url=https://push.${this.pushObj.region}.500apps.com/push/v1/message/log?app_name=push`,{method:"post",headers:{Accept:"application/json","Content-Type":"application/json","x-api-key":this.pushObj.api_key},body:JSON.stringify(n)})}}(new t).init()}).call(this,n(3))},3:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n}});
