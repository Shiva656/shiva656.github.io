(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ninjacapture32","ninjacapture18","ninjacapture22","ninjacapture26"],{"0538":function(e,t,n){"use strict";var r=n("1c0b"),a=n("861d"),_=[].slice,i={},s=function(e,t,n){if(!(t in i)){for(var r=[],a=0;a<t;a++)r[a]="a["+a+"]";i[t]=Function("C,a","return new C("+r.join(",")+")")}return i[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=_.call(arguments,1),i=function(){var r=n.concat(_.call(arguments));return this instanceof i?s(t,r.length,r):t.apply(e,r)};return a(t.prototype)&&(i.prototype=t.prototype),i}},"0901":function(e,t,n){},"257e":function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},"262e":function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}n.d(t,"a",(function(){return a}))},"2ae6":function(module,__webpack_exports__,__webpack_require__){"use strict";var regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("96cf"),regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0__),_home_agile_Desktop_Office_public_infi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("1da1"),_home_agile_Desktop_Office_public_infi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("d4ec"),_home_agile_Desktop_Office_public_infi_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("bee2"),_home_agile_Desktop_Office_public_infi_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("262e"),_home_agile_Desktop_Office_public_infi_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("2caf"),axios__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("bc3a"),axios__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_6__),_jwt__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("9b7b"),_core_data__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("a11a"),CallBack_Server="https://api.${region}.500apps.com/pbxplus/v1/save-contact-info",CallBack=function(_Data){Object(_home_agile_Desktop_Office_public_infi_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__["a"])(CallBack,_Data);var _super=Object(_home_agile_Desktop_Office_public_infi_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_5__["a"])(CallBack);function CallBack(){return Object(_home_agile_Desktop_Office_public_infi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["a"])(this,CallBack),_super.apply(this,arguments)}return Object(_home_agile_Desktop_Office_public_infi_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__["a"])(CallBack,[{key:"add",value:function(){var _add=Object(_home_agile_Desktop_Office_public_infi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__["a"])(regeneratorRuntime.mark((function _callee(form){var headers,region,url,response;return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,_jwt__WEBPACK_IMPORTED_MODULE_7__["a"].setHeader();case 2:return headers=_context.sent,region=this.getRegion(),url=CallBack_Server,url=eval("`"+url+"`"),_context.next=8,axios__WEBPACK_IMPORTED_MODULE_6___default.a.post(url,form,{headers:headers});case 8:return response=_context.sent,_context.abrupt("return",response.data);case 10:case"end":return _context.stop()}}),_callee,this)})));function add(e){return _add.apply(this,arguments)}return add}()}]),CallBack}(_core_data__WEBPACK_IMPORTED_MODULE_8__["a"]);__webpack_exports__["a"]=new CallBack},"2caf":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n("4ae1");var r=n("7e84");n("d3b7"),n("25f0");function a(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var _=n("53ca"),i=n("257e");function s(e,t){return!t||"object"!==Object(_["a"])(t)&&"function"!==typeof t?Object(i["a"])(e):t}function c(e){var t=a();return function(){var n,a=Object(r["a"])(e);if(t){var _=Object(r["a"])(this).constructor;n=Reflect.construct(a,arguments,_)}else n=a.apply(this,arguments);return s(this,n)}}},"2cfc":function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("99af"),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("7db0"),core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_1__),regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("96cf"),regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_2__),_home_agile_Desktop_Office_public_infi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("1da1"),_home_agile_Desktop_Office_public_infi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("d4ec"),_home_agile_Desktop_Office_public_infi_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("bee2"),_home_agile_Desktop_Office_public_infi_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("262e"),_home_agile_Desktop_Office_public_infi_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("2caf"),axios__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("bc3a"),axios__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_8__),_jwt__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("9b7b"),_core_data__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("a11a"),User_Server="https://api.${region}.500apps.com/auth/v1/users/domain_user_details?limit=50",Server="https://api.${region}.500apps.com/pbxplus/v1",Agent_Capability="https://pref.${region}.500apps.com/v2/app_pref?where=app_name='${app_name}' and pref_key='twilioDialer'",VoiceEmail_Server="https://api.${region}.500apps.com/voxdesk/v1/voicemail-drop/${callsid}?audio_url=${audio_url}",Media_Server="https://api.${region}.500apps.com/files/?app=pbxplus&limit=50",DialerData=function(_Data){Object(_home_agile_Desktop_Office_public_infi_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__["a"])(DialerData,_Data);var _super=Object(_home_agile_Desktop_Office_public_infi_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_7__["a"])(DialerData);function DialerData(){return Object(_home_agile_Desktop_Office_public_infi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_4__["a"])(this,DialerData),_super.apply(this,arguments)}return Object(_home_agile_Desktop_Office_public_infi_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_5__["a"])(DialerData,[{key:"getProfile",value:function(){var _getProfile=Object(_home_agile_Desktop_Office_public_infi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__["a"])(regeneratorRuntime.mark((function _callee(){var headers,region,url,result,decoded,current_user;return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,_jwt__WEBPACK_IMPORTED_MODULE_9__["a"].setHeader();case 2:return headers=_context.sent,region=this.getRegion(),url=eval("`"+User_Server+"`"),_context.next=7,axios__WEBPACK_IMPORTED_MODULE_8___default.a.get(url,{headers:headers});case 7:if(result=_context.sent,decoded=_jwt__WEBPACK_IMPORTED_MODULE_9__["a"].getJWTDecoded(),decoded){_context.next=11;break}return _context.abrupt("return","");case 11:return current_user=result.data.find((function(e){return e.email==decoded.email})),_context.abrupt("return",current_user);case 13:case"end":return _context.stop()}}),_callee,this)})));function getProfile(){return _getProfile.apply(this,arguments)}return getProfile}()},{key:"getCapabilityVisitor",value:function(){var _getCapabilityVisitor=Object(_home_agile_Desktop_Office_public_infi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__["a"])(regeneratorRuntime.mark((function _callee2(domain_id,callflow_id,api_key){var region,url,result;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return region=this.getRegion(),url=eval("`"+Server+"`"),_context2.next=4,axios__WEBPACK_IMPORTED_MODULE_8___default.a.get("".concat(url,"/c2c/").concat(domain_id,"/").concat(callflow_id,"/").concat(api_key));case 4:return result=_context2.sent,_context2.abrupt("return",result.data);case 6:case"end":return _context2.stop()}}),_callee2,this)})));function getCapabilityVisitor(e,t,n){return _getCapabilityVisitor.apply(this,arguments)}return getCapabilityVisitor}()},{key:"getCapabilityAgent",value:function(){var _getCapabilityAgent=Object(_home_agile_Desktop_Office_public_infi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__["a"])(regeneratorRuntime.mark((function _callee3(app_name){var headers,region,url,result;return regeneratorRuntime.wrap((function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,_jwt__WEBPACK_IMPORTED_MODULE_9__["a"].setHeader();case 2:return headers=_context3.sent,region=this.getRegion(),url=eval("`"+Agent_Capability+"`"),_context3.next=7,axios__WEBPACK_IMPORTED_MODULE_8___default.a.get("".concat(url),{headers:headers});case 7:return result=_context3.sent,_context3.abrupt("return",result.data[0]);case 9:case"end":return _context3.stop()}}),_callee3,this)})));function getCapabilityAgent(e){return _getCapabilityAgent.apply(this,arguments)}return getCapabilityAgent}()},{key:"sendVoiceEmail",value:function(){var _sendVoiceEmail=Object(_home_agile_Desktop_Office_public_infi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__["a"])(regeneratorRuntime.mark((function _callee4(callsid,audio_url){var headers,region,url,result;return regeneratorRuntime.wrap((function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,_jwt__WEBPACK_IMPORTED_MODULE_9__["a"].setHeader();case 2:return headers=_context4.sent,region=this.getRegion(),url=eval("`"+VoiceEmail_Server+"`"),_context4.next=7,axios__WEBPACK_IMPORTED_MODULE_8___default.a.get("".concat(url),{headers:headers});case 7:return result=_context4.sent,_context4.abrupt("return",result);case 9:case"end":return _context4.stop()}}),_callee4,this)})));function sendVoiceEmail(e,t){return _sendVoiceEmail.apply(this,arguments)}return sendVoiceEmail}()},{key:"getMedia",value:function(){var _getMedia=Object(_home_agile_Desktop_Office_public_infi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__["a"])(regeneratorRuntime.mark((function _callee5(){var headers,region,url,result;return regeneratorRuntime.wrap((function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,_jwt__WEBPACK_IMPORTED_MODULE_9__["a"].setHeader();case 2:return headers=_context5.sent,region=this.getRegion(),url=eval("`"+Media_Server+"`"),_context5.next=7,axios__WEBPACK_IMPORTED_MODULE_8___default.a.get("".concat(url),{headers:headers});case 7:return result=_context5.sent,_context5.abrupt("return",result.data);case 9:case"end":return _context5.stop()}}),_callee5,this)})));function getMedia(){return _getMedia.apply(this,arguments)}return getMedia}()}]),DialerData}(_core_data__WEBPACK_IMPORTED_MODULE_10__["a"]);__webpack_exports__["a"]=new DialerData},3410:function(e,t,n){var r=n("23e7"),a=n("d039"),_=n("7b0b"),i=n("e163"),s=n("e177"),c=a((function(){i(1)}));r({target:"Object",stat:!0,forced:c,sham:!s},{getPrototypeOf:function(e){return i(_(e))}})},"4ae1":function(e,t,n){var r=n("23e7"),a=n("d066"),_=n("1c0b"),i=n("825a"),s=n("861d"),c=n("7c73"),o=n("0538"),l=n("d039"),u=a("Reflect","construct"),d=l((function(){function e(){}return!(u((function(){}),[],e)instanceof e)})),p=!l((function(){u((function(){}))})),f=d||p;r({target:"Reflect",stat:!0,forced:f,sham:f},{construct:function(e,t){_(e),i(t);var n=arguments.length<3?e:_(arguments[2]);if(p&&!d)return u(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(o.apply(e,r))}var a=n.prototype,l=c(s(a)?a:Object.prototype),f=Function.apply.call(e,l,t);return s(f)?f:l}})},"73c2":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[n("b-form-group",{staticClass:"mb-0"},[n("b-input",{staticClass:"bg-transparent border-0 font-weight-normal form-control h2 mb-0 my-3 p-0 text-center phno-placeholder",attrs:{placeholder:"Enter phone number"},on:{input:e.sendNumber},model:{value:e.phone_number,callback:function(t){e.phone_number=t},expression:"phone_number"}})],1)],1),n("div",[n("div",{staticClass:"d-flex justify-content-between align-items-center mb-3 pb-1"},[n("b-button",{staticClass:"rounded-circle dailer-pad-number",attrs:{type:"button",variant:"secondary"},on:{click:function(t){return e.sendDigit("1")}}},[n("div",{staticClass:"d-flex justify-content-center"},[n("p",{staticClass:"mb-0 number"},[e._v("1")])])]),n("b-button",{staticClass:"rounded-circle dailer-pad-number",attrs:{type:"button",variant:"secondary"},on:{click:function(t){return e.sendDigit("2")}}},[n("div",{staticClass:"d-flex flex-column"},[n("p",{staticClass:"mb-0 number"},[e._v("2")]),n("p",{staticClass:"mb-0 small text"},[e._v("ABC")])])]),n("b-button",{staticClass:"rounded-circle dailer-pad-number",attrs:{type:"button",variant:"secondary"},on:{click:function(t){return e.sendDigit("3")}}},[n("div",{staticClass:"d-flex flex-column"},[n("p",{staticClass:"mb-0 number"},[e._v("3")]),n("p",{staticClass:"mb-0 small text"},[e._v("DEF")])])])],1),n("div",{staticClass:"d-flex justify-content-between align-items-center mb-3 pb-1"},[n("b-button",{staticClass:"rounded-circle dailer-pad-number",attrs:{type:"button",variant:"secondary"},on:{click:function(t){return e.sendDigit("4")}}},[n("div",{staticClass:"d-flex flex-column"},[n("p",{staticClass:"mb-0 number"},[e._v("4")]),n("p",{staticClass:"mb-0 small text"},[e._v("GHI")])])]),n("b-button",{staticClass:"rounded-circle dailer-pad-number",attrs:{type:"button",variant:"secondary"},on:{click:function(t){return e.sendDigit("5")}}},[n("div",{staticClass:"d-flex flex-column"},[n("p",{staticClass:"mb-0 number"},[e._v("5")]),n("p",{staticClass:"mb-0 small text"},[e._v("JKL")])])]),n("b-button",{staticClass:"rounded-circle dailer-pad-number",attrs:{type:"button",variant:"secondary"},on:{click:function(t){return e.sendDigit("6")}}},[n("div",{staticClass:"d-flex flex-column"},[n("p",{staticClass:"mb-0 number"},[e._v("6")]),n("p",{staticClass:"mb-0 small text"},[e._v("MNO")])])])],1),n("div",{staticClass:"d-flex justify-content-between align-items-center mb-3 pb-1"},[n("b-button",{staticClass:"rounded-circle dailer-pad-number",attrs:{type:"button",variant:"secondary"},on:{click:function(t){return e.sendDigit("7")}}},[n("div",{staticClass:"d-flex flex-column"},[n("p",{staticClass:"mb-0 number"},[e._v("7")]),n("p",{staticClass:"mb-0 small text"},[e._v("PQRS")])])]),n("b-button",{staticClass:"rounded-circle dailer-pad-number",attrs:{type:"button",variant:"secondary"},on:{click:function(t){return e.sendDigit("8")}}},[n("div",{staticClass:"d-flex flex-column"},[n("p",{staticClass:"mb-0 number"},[e._v("8")]),n("p",{staticClass:"mb-0 small text"},[e._v("TUV")])])]),n("b-button",{staticClass:"rounded-circle dailer-pad-number",attrs:{type:"button",variant:"secondary"},on:{click:function(t){return e.sendDigit("9")}}},[n("div",{staticClass:"d-flex flex-column"},[n("p",{staticClass:"mb-0 number"},[e._v("9")]),n("p",{staticClass:"mb-0 small text"},[e._v("WXYZ")])])])],1),n("div",{staticClass:"d-flex justify-content-between align-items-center mb-0"},[n("b-button",{staticClass:"rounded-circle dailer-pad-number star-num",attrs:{type:"button",variant:"secondary"},on:{click:function(t){return e.sendDigit("*")}}},[n("div",{staticClass:"d-flex justify-content-center"},[n("p",{staticClass:"mb-0 number star-num"},[e._v("*")])])]),n("b-button",{staticClass:"rounded-circle dailer-pad-number",attrs:{type:"button",variant:"secondary"},on:{click:function(t){return e.sendDigit("0")}}},[n("div",{staticClass:"d-flex justify-content-center"},[n("p",{staticClass:"mb-0 number"},[e._v("0")])])]),n("b-button",{staticClass:"rounded-circle dailer-pad-number",attrs:{type:"button",variant:"secondary"},on:{click:function(t){return e.sendDigit("#")}}},[n("div",{staticClass:"d-flex justify-content-center"},[n("p",{staticClass:"mb-0 number"},[e._v("#")])])])],1)])])},a=[],_={props:{connection:Object},data:function(){return{phone_number:""}},methods:{sendDigit:function(e){this.phone_number=this.phone_number+e,this.$emit("digitPressed",e)},sendNumber:function(){this.$emit("phoneNumber",this.phone_number)}}},i=_,s=n("2877"),c=Object(s["a"])(i,r,a,!1,null,null,null);t["default"]=c.exports},"7db0":function(e,t,n){"use strict";var r=n("23e7"),a=n("b727").find,_=n("44d2"),i=n("ae40"),s="find",c=!0,o=i(s);s in[]&&Array(1)[s]((function(){c=!1})),r({target:"Array",proto:!0,forced:c||!o},{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),_(s)},"7e84":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("3410");function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}},"89c7":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",["agent"==e.from?n("div",{staticClass:"text-center"},[e.profile.pic_path?n("b-img",{staticClass:"rounded-circle",attrs:{src:e.profile.pic_path,alt:"Agent profile",height:"45",width:"45"}}):e._e(),n("p",{staticClass:"mt-2 mb-0 first-letter-caps"},[e._v(e._s(e.profile.name))])],1):e._e(),"visitor"==e.from?[n("b-button",{staticClass:"mt-3 ml-3",attrs:{variant:e.variant},on:{click:function(t){return e.$emit("visitor_click","call_now")}}},[e._v(e._s(e.buttonName))]),n("b-button",{staticClass:"ml-3 mt-3",attrs:{variant:"primary"},on:{click:function(t){return e.$emit("visitor_click","call_back")}}},[e._v("Call Back")])]:e._e()],2)},a=[],_=(n("96cf"),n("1da1")),i=n("2cfc"),s={props:["from","buttonName","variant"],data:function(){return{profile:{},show_form:!1}},mounted:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("visitor"==this.from){e.next=5;break}return e.next=3,i["a"].getProfile();case 3:this.profile=e.sent,this.profile.pic_path||(this.profile.pic_path="/img/default_avatar.png");case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},c=s,o=(n("f795"),n("2877")),l=Object(o["a"])(c,r,a,!1,null,"a1a60bda",null);t["default"]=l.exports},"8c65":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){try{return encodeURIComponent(e)}catch(t){console.error("error encode %o")}return null},a=function(e){try{return decodeURIComponent(e)}catch(t){console.error("error decode %o")}return null},_=function(e){return r(e).replace(/[\-\.\+\*]/g,"\\$&")},i={getItem:function(e){return e&&a(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+_(e)+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(e,t,n,a,_,i){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var s="";if(n)switch(n.constructor){case Number:s=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:s="; expires="+n;break;case Date:s="; expires="+n.toUTCString();break;default:break}return document.cookie=[r(e),"=",r(t),s,_?"; domain="+_:"",a?"; path="+a:"",i?"; secure":""].join(""),!0},removeItem:function(e,t,n){return!!this.hasItem(e)&&(document.cookie=[r(e),"=; expires=Thu, 01 Jan 1970 00:00:00 GMT",n?"; domain="+n:"",t?"; path="+t:""].join(""),!0)},hasItem:function(e){return!!e&&new RegExp("(?:^|;\\s*)"+r(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/);return e=e.map((function(e){return a(e)})),e}};t.default=i},9846:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"w-100"},[e.connection&&"pbxplus"==e.app_name?n("h3",{staticClass:"mb-1 mt-3 font-size-md text-center"},[e._v(e._s(e.phone_number))]):e._e(),e.connection?n("p",{staticClass:"mb-0 font-size-sm text-center"},[e._v(e._s(this.duration))]):e._e()])},a=[],_=(n("99af"),{props:{connection:Object,phone_number:String,app_name:String},data:function(){return{duration:"",timeInterval:""}},mounted:function(){var e=this,t={day:0,hours:0,minutes:0,seconds:0},n=new Date(t.day,t.hours,t.minutes,t.seconds),r=1;this.timeInterval=setInterval((function(){n=new Date(n.getTime()+1e3*r),e.duration="".concat(n.getHours()<10?"0"+n.getHours():n.getHours()," :\n                        ").concat(n.getMinutes()<10?"0"+n.getMinutes():n.getMinutes()," :\n                        ").concat(n.getSeconds()<10?"0"+n.getSeconds():n.getSeconds())}),1e3*Math.abs(r))}}),i=_,s=n("2877"),c=Object(s["a"])(i,r,a,!1,null,null,null);t["default"]=c.exports},"9b7b":function(e,t,n){"use strict";n("96cf");var r=n("1da1"),a=n("d4ec"),_=n("bee2"),i=n("8c65"),s=n.n(i);function c(e){this.message=e}c.prototype=new Error,c.prototype.name="InvalidCharacterError";var o="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new c("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,a=0,_=0,i="";r=t.charAt(_++);~r&&(n=a%4?64*n+r:r,a++%4)?i+=String.fromCharCode(255&n>>(-2*a&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return i};function l(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(o(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return o(t)}}function u(e){this.message=e}function d(e,t){if("string"!=typeof e)throw new u("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(l(e.split(".")[n]))}catch(e){throw new u("Invalid token specified: "+e.message)}}u.prototype=new Error,u.prototype.name="InvalidTokenError";var p=d,f=function(){function e(){Object(a["a"])(this,e)}return Object(_["a"])(e,[{key:"getJWT",value:function(){var e=s.a.getItem("token")||localStorage.getItem("token");if(e)try{var t=JSON.parse(e);this.jwt_token=p(t.jwt);var n="Bearer ".concat(t.jwt);return n}catch(r){return e}}},{key:"setHeader",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getJWT();case 2:return t=e.sent,n={},n["Authorization"]=t,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getJWTDecoded",value:function(){var e=this.getJWT();if(e)return p(e)}}]),e}();t["a"]=new f},b9ba:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Header",{attrs:{domain_id:e.domain_id,variant:e.variant,buttonName:e.buttonName,from:"visitor"},on:{visitor_click:e.prefer}}),"call_back"==e.visitor_select?n("CallBack",{attrs:{call_flow_id:e.flow_id,api_key:e.api_key,domain_id:e.domain_id}}):e._e(),"call_now"==e.visitor_select?n("div",["connected"==e.status?n("div",{staticClass:"width-400"},[n("b-card",{staticClass:"h-100 bg-dailer rounded-20",attrs:{"body-class":"dailer-padding"}},["visitor"!=e.$route.params.from?n("div",{staticClass:"d-flex justify-content-center"},[n("img",{staticClass:"avatar rounded-circle mb-3",attrs:{src:"https://infinity.500apps.com/avatars/avatar-47.png"}})]):e._e(),n("Timer",{attrs:{domain_id:e.domain_id,connection:e.connection}}),n("KeyPad",{attrs:{domain_id:e.domain_id},on:{digitPressed:e.digitPressed}})],1),n("HangupCall")],1):e._e()]):e._e()],1)},a=[],_=(n("99af"),n("d3b7"),n("25f0"),n("96cf"),n("1da1")),i=n("5530"),s=n("2f62"),c=n("89c7"),o=n("c18d"),l=n("73c2"),u=n("9846"),d=n("2cfc"),p=n("f086"),f={components:{CallBack:p["default"],Header:c["default"],HangupCall:o["default"],KeyPad:l["default"],Timer:u["default"]},props:{flow_id:String,api_key:String,domain_id:String},data:function(){return{status:"",connectedCall:!1,visitor_select:"",connection:"",buttonName:"Call from Computer",variant:"success"}},computed:Object(i["a"])({},Object(s["b"])(["isTwilioReady","device","checkDeviceStatus"])),watch:{checkDeviceStatus:function(e){"connect"===e&&(this.connectedCall=!0,this.status="connected")}},mounted:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d["a"].getCapabilityVisitor(this.domain_id,this.flow_id,this.api_key);case 3:t=e.sent,this.$store.dispatch("getToken","".concat(t[0].pref_value,"?To=PBX_Guest_").concat(Math.floor(1e5*Math.random()))),e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}(),methods:{initiateCall:function(){this.connection=this.device.connect({callflow_id:this.flow_id,domain_id:this.domain_id,api_key:this.api_key}),this.$store.dispatch("twilioDeviceListeners"),this.twilioConnection=this.connection},digitPressed:function(e){this.twilioConnection.sendDigits(e.toString())},disconnect_call:function(){this.device.disconnectAll(),this.connectedCall=!1,this.status=""},prefer:function(e){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if("call_now"!=t.visitor_select||"call_now"!=e){n.next=5;break}return t.disconnect_call(),t.buttonName="Call from Computer",t.variant="success",n.abrupt("return");case 5:if(t.visitor_select=e,"call_now"!=t.visitor_select){n.next=13;break}return n.next=9,t.initiateCall();case 9:t.buttonName="Calling..",t.variant="danger",n.next=16;break;case 13:t.disconnect_call(),t.buttonName="Call from Computer",t.variant="success";case 16:case"end":return n.stop()}}),n)})))()}}},m=f,b=n("2877"),h=Object(b["a"])(m,r,a,!1,null,null,null);t["default"]=h.exports},c18d:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.connection?n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip:hover",arg:"hover"}],staticClass:"rounded-circle dailer-pad-number",attrs:{type:"button",variant:"danger",title:"End call"},on:{click:function(t){return e.disconnectCall()}}},[n("div",{staticClass:"align-items-center d-flex flex-column justify-content-center text-center"},[n("div",[n("i",{staticClass:"fe fe-phone"})])])]):e._e()},a=[],_={props:{connection:Object},data:function(){return{}},methods:{disconnectCall:function(){this.$emit("disconnectcall")}}},i=_,s=n("2877"),c=Object(s["a"])(i,r,a,!1,null,null,null);t["default"]=c.exports},f086:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"width-400"},[n("b-card",{attrs:{"body-class":"p-4"}},[n("b-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[n("b-form-group",{attrs:{id:"input-group-1",label:"Enter Name","label-for":"input-1"}},[n("b-form-input",{attrs:{type:"text",id:"input-1",placeholder:"Enter Name",required:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),n("b-form-group",{attrs:{id:"input-group-2",label:"Enter Phone Number","label-for":"input-2"}},[n("VueTelInput",{on:{"country-changed":e.countryChanged},model:{value:e.form.number,callback:function(t){e.$set(e.form,"number",t)},expression:"form.number"}})],1),n("b-form-group",{staticClass:"mb-3 pb-1 mt-3",attrs:{label:"Call Now or Later"}},[n("b-form-select",{staticClass:"mb-0",attrs:{options:e.sendType,required:""},model:{value:e.form.send_type,callback:function(t){e.$set(e.form,"send_type",t)},expression:"form.send_type"}})],1),"Scheduled"==e.form.send_type?n("b-row",[n("b-col",{attrs:{md:"12"}},[n("b-form-group",{attrs:{label:"Call back time"}},[n("b-form-input",{staticClass:"form-control pr-2",attrs:{type:"datetime-local",id:"callbacktime",required:""},model:{value:e.form.call_back_time,callback:function(t){e.$set(e.form,"call_back_time",t)},expression:"form.call_back_time"}})],1)],1),n("b-col",{staticClass:"mt-2",attrs:{lg:"12"}},[n("label",[e._v("Timezone")]),n("b-form-select",{attrs:{id:"input-3",options:e.getTimezones(),required:""},model:{value:e.form.timezone,callback:function(t){e.$set(e.form,"timezone",t)},expression:"form.timezone"}})],1)],1):e._e(),n("div",{staticClass:"d-flex justify-content-end border-top mt-4 pt-4"},[n("b-button",{attrs:{type:"submit",variant:"primary px-5",disabled:e.isDisabled}},[e._v("Submit")])],1),n("p",{staticClass:"mb-0 text-right mt-2 text-primary",class:e.errorClass},[e._v(e._s(e.message))])],1)],1)],1)},a=[],_=(n("96cf"),n("1da1")),i=n("f62e"),s=n("2ae6"),c=n("7f45"),o=n.n(c),l={components:{VueTelInput:i["a"]},props:["domain_id","api_key","call_flow_id"],data:function(){return{form:{name:"",number:"",timezone:"",api_key:"",call_flow_id:"",domain_id:"",message:"",call_back_time:"",send_type:"",country_code:""},isDisabled:!1,errorClass:"",message:"",sendType:[{value:"Call now",text:"call now"},{value:"Scheduled",text:"call later"}]}},mounted:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.form.timezone=o.a.tz.guess();case 1:case"end":return t.stop()}}),t)})))()},methods:{countryChanged:function(e){this.form.country_code=e.dialCode},getTimezones:function(){var e=o.a.tz.names();return e.unshift({text:"Select timezone",value:""}),e},onSubmit:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.form.domain_id=e.domain_id,e.form.call_flow_id=e.call_flow_id,e.form.api_key=e.api_key,e.message="saving..",e.isDisabled=!1,"Call now"!=e.form.send_type){t.next=12;break}return t.next=8,s["a"].add(e.form);case 8:n=t.sent,e.message="saved",t.next=16;break;case 12:return t.next=14,s["a"].add(e.form);case 14:n=t.sent,e.message="saved";case 16:n.Status?("Call now"==e.form.send_type?e.message="Call_now_success_helptext":e.message="Call_later_success_helptext",e.errorClass="text-primary"):void 0==n.err.response&&(e.message=n.err.message,e.errorClass="text-danger",e.isDisabled=!1),setTimeout((function(){e.message=""}),2e3);case 18:case"end":return t.stop()}}),t)})))()}}},u=l,d=n("2877"),p=Object(d["a"])(u,r,a,!1,null,null,null);t["default"]=p.exports},f795:function(e,t,n){"use strict";n("0901")}}]);
//# sourceMappingURL=ninjacapture32.af705cb3.js.map