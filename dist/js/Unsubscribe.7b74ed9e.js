(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Unsubscribe"],{3722:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"vh-100"},[s("b-navbar",{staticClass:"border-bottom p-3",attrs:{variant:"faded",type:"light"}},[s("div",{staticClass:"navbar-brand pb-0 mx-auto"},[s("div",{staticClass:"d-flex"},[s("img",{attrs:{src:"https://infinity.500apps.com/img/extensions/openedornot.svg",height:"32",width:"32"}}),s("h2",{staticClass:"mb-0 pt-2 pl-2"},[e._v("OpenedOrNot")])]),s("p",{staticClass:"mb-0"},[e._v("Powered By "),s("span",{staticClass:"text-primary"},[e._v("500apps")])])])]),s("div",[s("b-row",{staticClass:"text-center mt-7"},[s("b-col"),s("b-col",{attrs:{cols:"8"}},[e.isUnSubscribed?[s("h3",[e._v("Successful")]),s("p",[e._v("You have successfully unsubscribed from daily reports emails from OpenedorNot")])]:[s("h3",[e._v("Unsubscribe from Daily Report Email")]),s("p",[e._v("To help us improve our services, we would be grateful if you could tell us why:")]),s("b-row",[s("div",{staticClass:"col-7 mx-auto"},[s("b-dropdown",{staticClass:"col-12 px-0 bg-white",attrs:{"menu-class":"w-100",text:e.selected}},e._l(e.options,(function(t){return s("b-dropdown-item",{key:t,on:{click:function(s){return e.selectOption(t)}}},[e._v(e._s(t))])})),1),e.showMessage?s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.reason,expression:"reason"}],staticClass:"mt-3 form-control",attrs:{rows:"3",placeholder:"Please provide your reason here....."},domProps:{value:e.reason},on:{input:function(t){t.target.composing||(e.reason=t.target.value)}}}):e._e(),e.showMessage&&e.showError?s("p",{staticClass:"text-danger mb-0"},[e._v("Reason is required")]):e._e()],1)]),s("b-button",{staticClass:"mt-5",attrs:{variant:"primary",disabled:"Please select a reason"==e.selected},on:{click:function(t){return e.submit()}}},[s("small",[e._v("click here to unsubscribe")])])]],2),s("b-col")],1)],1),e._m(0)],1)},_=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"fixed-bottom text-center bg-white border-top"},[s("p",{staticClass:"mb-0 mt-3 text-muted"},[e._v("Thanks")]),s("p",[s("b",[e._v("500apps Team")])])])}],a=s("9ec3"),n={data:function(){return{selected:"Please select a reason",options:["Emails about the daily activities do not interest me","I no longer wish to receive these daily report","Others"],showMessage:!1,reason:"",showError:!1,isUnSubscribed:!1}},methods:{selectOption:function(e){this.selected=e,"Others"===e?this.showMessage=!0:(this.showMessage=!1,this.showError=!1)},submit:function(){var e=this;if("Others"===this.selected&&0===this.reason.length)this.showError=!0;else{var t="Others"===this.selected?this.reason:this.selected,s={from_email:this.$route.params.email,is_subscribed:0,domain_id:window.domain,reason:t};a["a"].update(s).then((function(){e.showError=!1,e.isUnSubscribed=!0}))}}}},o=n,i=s("2877"),c=Object(i["a"])(o,r,_,!1,null,null,null);t["default"]=c.exports},"9ec3":function(module,__webpack_exports__,__webpack_require__){"use strict";var regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("96cf"),regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0__),_home_agile_Desktop_Office_public_infi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("1da1"),_home_agile_Desktop_Office_public_infi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("d4ec"),_home_agile_Desktop_Office_public_infi_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("bee2"),axios=__webpack_require__("bc3a"),Unsubscribe_Server="https://api.${region}.500apps.com/openedornot/update",OpenedOrNot=function(){function OpenedOrNot(){Object(_home_agile_Desktop_Office_public_infi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["a"])(this,OpenedOrNot)}return Object(_home_agile_Desktop_Office_public_infi_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__["a"])(OpenedOrNot,[{key:"update",value:function(){var _update=Object(_home_agile_Desktop_Office_public_infi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__["a"])(regeneratorRuntime.mark((function _callee(form){var url,response;return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:return url=eval("`"+Unsubscribe_Server+"`"),_context.next=3,axios.put(url,form);case 3:return response=_context.sent,_context.abrupt("return",response.data);case 5:case"end":return _context.stop()}}),_callee)})));function update(e){return _update.apply(this,arguments)}return update}()}]),OpenedOrNot}();__webpack_exports__["a"]=new OpenedOrNot},bee2:function(e,t,s){"use strict";function r(e,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,s){return t&&r(e.prototype,t),s&&r(e,s),e}s.d(t,"a",(function(){return _}))},d4ec:function(e,t,s){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}s.d(t,"a",(function(){return r}))}}]);
//# sourceMappingURL=Unsubscribe.7b74ed9e.js.map